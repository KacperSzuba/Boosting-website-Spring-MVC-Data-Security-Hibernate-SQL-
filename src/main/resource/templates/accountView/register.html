<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
      lang="en">
    <head>
        <title>Register page</title>
        <style type="text/css">
            .error {
                color: red;
            }
        </style>
    </head>
    <body>
        <div id="Register">
            <nav>
                <ul>
                    <div sec:authorize="${isAnonymous()}">
                        <li>
                            <a href="/login">Login Page</a>
                        </li>
                        <li>
                            <a href="/register">Register Page</a>
                        </li>
                    </div>
                    <li>
                        <a href="/order/">Order page</a>
                    </li>
                </ul>
            </nav>
            <h1>Account registration</h1>
            <p th:object="${message}"></p>
            <form th:action="@{/registerForm}" th:object="${register}"  method="post">
                <table>
                    <tr>
                        <td>
                            <input th:field="*{username}" placeholder="Username" />
                            <span class="error" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input th:field="*{password}"  placeholder="Password" type="password" />
                            <span class="error" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input th:field="*{email}"  placeholder="Email" />
                            <span class="error" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></span>
                        </td>
                    </tr>
                    <tr>
                        <td><input type="submit" value="Submit" /></td>
                    </tr>
                </table>
            </form>
        </div>
    </body>
</html>